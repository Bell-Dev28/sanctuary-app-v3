(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{285:(e,r,t)=>{"use strict";t.d(r,{$:()=>o});var s=t(5155),n=t(2115),l=t(9708),a=t(2085),i=t(9434);let u=(0,a.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-all duration-200 ease-in-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 transform hover:scale-[1.03] active:scale-[0.98]",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,r)=>{let{className:t,variant:n,size:a,asChild:o=!1,...d}=e,c=o?l.DX:"button";return(0,s.jsx)(c,{className:(0,i.cn)(u({variant:n,size:a,className:t})),ref:r,...d})});o.displayName="Button"},2085:(e,r,t)=>{"use strict";t.d(r,{F:()=>a});var s=t(2596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.$,a=(e,r)=>t=>{var s;if((null==r?void 0:r.variants)==null)return l(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:a,defaultVariants:i}=r,u=Object.keys(a).map(e=>{let r=null==t?void 0:t[e],s=null==i?void 0:i[e];if(null===r)return null;let l=n(r)||n(s);return a[e][l]}),o=t&&Object.entries(t).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return l(e,u,null==r||null==(s=r.compoundVariants)?void 0:s.reduce((e,r)=>{let{class:t,className:s,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...i,...o}[r]):({...i,...o})[r]===t})?[...e,t,s]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}},2148:(e,r,t)=>{Promise.resolve().then(t.bind(t,2721))},2721:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(5155),n=t(2115),l=t(5695),a=t(9576),i=t(6671),u=t(285),o=t(9434);let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("input",{ref:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",t),...n})});function c(){let{user:e,signInWithEmail:r}=(0,a.A)(),t=(0,l.useRouter)(),[o,c]=(0,n.useState)(""),[h,v]=(0,n.useState)(""),[f,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{e&&t.replace("/home")},[e,t]);let p=async e=>{e.preventDefault(),m(!0);try{await r(o,h),i.oR.success("Signed in successfully!"),t.replace("/home")}catch(r){let e=r instanceof Error?r.message:"An unexpected error occurred";i.oR.error(e)}finally{m(!1)}};return(0,s.jsxs)("div",{className:"w-full max-w-sm p-8 space-y-6 bg-card rounded-lg shadow-md",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h1",{className:"text-3xl font-serif font-bold",children:"Welcome to Sanctuary"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Sign in to continue"})]}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,s.jsx)(d,{id:"email",type:"email",value:o,onChange:e=>c(e.target.value),placeholder:"Email",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,s.jsx)(d,{id:"password",type:"password",value:h,onChange:e=>v(e.target.value),placeholder:"Password",required:!0})]}),(0,s.jsx)(u.$,{type:"submit",disabled:f,className:"w-full",size:"lg",children:f?"Signing inâ€¦":"Sign In"})]})]})}d.displayName="Input"},6927:(e,r,t)=>{"use strict";t.d(r,{N:()=>a});var s=t(5647);let n="https://cxqtrnpjshdwqtmsislw.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4cXRybnBqc2hkd3F0bXNpc2x3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3OTMwMDgsImV4cCI6MjA2NzM2OTAwOH0.snTMt7cMZHOdKjWMXU-TVARSp6z7wRrCGN8bVXnmAJI";if(!n||!l)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON in .env.local");let a=(0,s.UU)(n,l,{auth:{persistSession:!0,autoRefreshToken:!0}})},9434:(e,r,t)=>{"use strict";t.d(r,{cn:()=>l});var s=t(2596),n=t(9688);function l(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,s.$)(r))}},9576:(e,r,t)=>{"use strict";t.d(r,{A:()=>u,AuthProvider:()=>i});var s=t(5155),n=t(2115),l=t(6927);let a=(0,n.createContext)(void 0),i=e=>{let{children:r}=e,[t,i]=(0,n.useState)(null),[u,o]=(0,n.useState)(null),[d,c]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{var e;let{data:{session:r}}=await l.N.auth.getSession();o(r),i(null!=(e=null==r?void 0:r.user)?e:null),c(!1)})();let{data:e}=l.N.auth.onAuthStateChange((e,r)=>{var t;o(r),i(null!=(t=null==r?void 0:r.user)?t:null),c(!1)});return()=>{e.subscription.unsubscribe()}},[]),(0,s.jsx)(a.Provider,{value:{session:u,user:t,loading:d,signInWithEmail:(e,r)=>l.N.auth.signInWithPassword({email:e,password:r}),signOut:()=>l.N.auth.signOut()},children:r})},u=()=>{let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var r=r=>e(e.s=r);e.O(0,[647,848,753,441,684,358],()=>r(2148)),_N_E=e.O()}]);