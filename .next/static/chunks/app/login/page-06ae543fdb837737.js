(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2489:(e,s,t)=>{Promise.resolve().then(t.bind(t,6760))},6760:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(5155),n=t(2115),l=t(5695),a=t(9576),u=t(6671);function i(){let{user:e,signInWithEmail:s}=(0,a.A)(),t=(0,l.useRouter)(),i="the-unspoken",[c,o]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),[b,m]=(0,n.useState)(!1);(0,n.useEffect)(()=>{e&&t.replace("/journal/".concat(i))},[e,t]);let p=async e=>{e.preventDefault(),m(!0);try{await s(c,d),u.o.success("Signed in successfully!"),t.replace("/journal/".concat(i))}catch(s){let e=s instanceof Error?s.message:"An unexpected error occurred";u.o.error(e)}finally{m(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("form",{onSubmit:p,className:"bg-white p-6 rounded shadow-md w-full max-w-sm",children:[(0,r.jsx)("h1",{className:"text-2xl mb-4 font-semibold text-center",children:"Sign In"}),(0,r.jsxs)("label",{className:"block mb-2",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Email"}),(0,r.jsx)("input",{type:"email",value:c,onChange:e=>o(e.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded px-2 py-1"})]}),(0,r.jsxs)("label",{className:"block mb-4",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Password"}),(0,r.jsx)("input",{type:"password",value:d,onChange:e=>h(e.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded px-2 py-1"})]}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:opacity-50",children:b?"Signing inâ€¦":"Sign In"})]})})}},6927:(e,s,t)=>{"use strict";t.d(s,{N:()=>a});var r=t(5647);let n="https://cxqtrnpjshdwqtmsislw.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4cXRybnBqc2hkd3F0bXNpc2x3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE3OTMwMDgsImV4cCI6MjA2NzM2OTAwOH0.snTMt7cMZHOdKjWMXU-TVARSp6z7wRrCGN8bVXnmAJI";if(!n||!l)throw Error("Missing NEXT_PUBLIC_SUPABASE_URL or NEXT_PUBLIC_SUPABASE_ANON in .env.local");let a=(0,r.UU)(n,l,{auth:{persistSession:!0,autoRefreshToken:!0}})},9576:(e,s,t)=>{"use strict";t.d(s,{A:()=>i,AuthProvider:()=>u});var r=t(5155),n=t(2115),l=t(6927);let a=(0,n.createContext)(void 0);function u(e){let{children:s}=e,[t,u]=(0,n.useState)(null),[i,c]=(0,n.useState)(null);(0,n.useEffect)(()=>{l.N.auth.getSession().then(e=>{var s,t;let{data:r}=e;u(r.session),c(null!=(t=null==(s=r.session)?void 0:s.user)?t:null)});let{data:e}=l.N.auth.onAuthStateChange((e,s)=>{var t;u(s),c(null!=(t=null==s?void 0:s.user)?t:null)});return()=>{e.subscription.unsubscribe()}},[]);let o=async(e,s)=>{let{error:t}=await l.N.auth.signInWithPassword({email:e,password:s});if(t)throw t},d=async()=>{await l.N.auth.signOut(),u(null),c(null)};return(0,r.jsx)(a.Provider,{value:{user:i,session:t,signInWithEmail:o,signOut:d},children:s})}function i(){let e=(0,n.useContext)(a);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},e=>{var s=s=>e(e.s=s);e.O(0,[825,671,441,684,358],()=>s(2489)),_N_E=e.O()}]);